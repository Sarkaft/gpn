import sentencepiece as spm
import sys


#sp = spm.SentencePieceProcessor(enable_sampling=True)  # not doing anything
sp = spm.SentencePieceProcessor()
sp.Load(sys.argv[1])
print(len(sp))

seq = "ATAAACATATCATAAATAAGATCAATATTAATAAAATAAATAGTTTTTTTTACGGGACGGATTGGCGGGACGAGTTTAGCAGGACGTAACTTAATAACAATTGTAAACTATAAAATAAAAATATTTTATAGATAGATACAATTTGCAAACTTTTATATATACTAACTTAAAAAAAAAATATTGTCCCCTGCGGTATAAGACGGGTTAAAAATCTAGTTGTTATTATTAAAGGAAATAAAATATCCTCATAAAACAATTTGTTGTAATCTATCTTTGGGCTAATGTTCTTATCCTACAAGACGAACCCTGACCGTATTCGTCGTAGAAAAAAAATTGCTTCGATCCCATCATTGAGTTCAATAATCGGCGCACAAAGGCCGATTCATAAAAACTCTAGGCCCATTAAAGTAAAGCCCATTCTCAACCCTATCCAGTCTCCCTGTATATATATATTTACGACACCAACCCAGCGTTGATATTTAATTTTCTTCAGTCAGAGATTTCGAAACCCTAGTCGATTTCGAGATCCAACTAACTCTGCTCCTTATCTCAGGTAAAATTCTCGCTCGAGAACTCAATTGCTTATCCAAAGTTCCAACTGAAGATGCTTTCCTACTGAATCTTAGGTTAATGTTTTGGATTTGGAATCTTACCCGAAATTTCTCTGCAGCTTGTTGAATTTGCGAAGTATGGGAGACGCTAGAGACAACGAAGCCTACGAGGAGGAGCTCTTGGACTATGAAGAAGAAGACGAGAAGGTCCCAGATTCTGGAAACAAAGTTAACGGCGAAGCTGTGAAAAAGTGAGTTTTATGGTTTCCTCGATATGTTTCATGTATACTACTGTGTGTTTAAATTTGTCGATTCTTAGATTACTACTTGATAACAAGTAGCAGTATGTGTTTAATTAGTTGCTTAACATATAACAATTGACTGAGTTCTTCATTGCTATAATTCCTGAAACCCACCCAATATTAGACTGTCGTGTGTTTCTCATATTG"
# second exon:
#seq = "CACCCAATATTAGACTGTCGTGTGTTTCTCATATTGTATTTTCTCTTTGTGACAGAGGGTACGTGGGAATACACAGTTCTGGATTCAGAGACTTCCTTTTGAAACCGGAGCTTCTCAGAGCTATTGTTGACTCAGGATTTGAACATCCATCTGAAGGTAATTACCAATAAAAATTCAATTTTGTTGCCTTTCACCATTCTATTACTGA"
#encoded_seq = sp.encode_as_pieces(seq)
encoded_seq = sp.sample_encode_as_pieces(seq, nbest_size=-1, alpha=1.5)
print(len(seq), "->", len(encoded_seq))
print(" ".join(encoded_seq))
